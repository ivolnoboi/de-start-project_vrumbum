# Автосалон «Врум-Бум»
Учебный проект в рамках курса "Инженер данных с нуля" от Яндекс практикума.

## Описание проекта
«Врум-Бум» — сеть салонов легковых автомобилей.

Вся информация  о продажах, поставках, запасах и клиентах хранится в сыром, неструктурированном виде.

Необходимо нормализовать и структурировать существующие сырые данные, а потом написать несколько запросов для получения информации из БД.

## Создание и заполнение БД
Файл [INITIAL.sql](https://github.com/ivolnoboi/de-start-project_vrumbum/blob/main/INITIAL.sql) содержит извлечение сырых данных из csv файла.

Файл [DDL.sql](https://github.com/ivolnoboi/de-start-project_vrumbum/blob/main/DDL.sql) создаёт схему и таблицы для автосалона.

Файл [INSERT.sql](https://github.com/ivolnoboi/de-start-project_vrumbum/blob/main/INSERT.sql) заполняет таблицы автосалона данными.

Пояснения к выбранной модели данных находятся в файле [comments.txt](https://github.com/ivolnoboi/de-start-project_vrumbum/blob/main/comments.txt).

![](https://github.com/ivolnoboi/de-start-project_vrumbum/raw/main/img/car_shop_schema.png)

### Описания таблиц
#### Таблица sales
Содержит данные о всех сделках.
| Поле | Тип | Описание |
| --- | --- | --- |
| `id` | serial | ID сделки, первичный ключ |
| `price` | numeric(9, 2) | Цена в $ с учётом скидки |
| `date` | date | Дата сделки |
| `discount` | smallint | Скидка в процентах |
| `auto_id` | integer | Внешний ключ к таблице с автомобилями |
| `client_id` | integer | Внешний ключ к таблице с клиентами |

#### Таблица autos
Содержит информацию об автомобилях.
| Поле | Тип | Описание |
| --- | --- | --- |
| `id` | serial | ID автомобиля, первичный ключ |
| `brand_name` | varchar | Марка автомобиля |
| `model_name` | varchar | Модель автомобиля |
| `gasoline_consumption` | numeric(3, 2) | Потребление топлива на 100 км |
| `country_id` | integer | Внешний ключ к таблице со странами-производителями |

#### Таблица countries
Содержит информацию о странах-производителях.
| Поле | Тип | Описание |
| --- | --- | --- |
| `id` | serial | ID страны, первичный ключ |
| `name` | varchar | Название страны |

#### Таблица clients
Содержит информацию о клиентах.
| Поле | Тип | Описание |
| --- | --- | --- |
| `id` | serial | ID клиента, первичный ключ |
| `name` | varchar | Ф.И.О. клиента |
| `phone` | varchar | Номер телефона клиента |


#### Таблица autos_colors
Соединяющая таблица для создания связи "многие ко многим".
Внутри этой таблицы всего два поля (auto_id и color_id), которые вместе являются составным первичным ключом.

#### Таблица colors
Описывает возможные цвета автомобилей.
| Поле | Тип | Описание |
| --- | --- | --- |
| `id` | serial | ID цвета, первичный ключ |
| `color` | varchar | Название цвета |


## Задания
Файлы task_1.sql — task_6.sql содержат задания на выборку данных для аналитики.
